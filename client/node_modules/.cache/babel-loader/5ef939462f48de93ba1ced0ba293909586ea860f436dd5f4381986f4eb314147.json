{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bhanu\\\\Desktop\\\\mern-ai-school-management\\\\client\\\\src\\\\components\\\\Auth\\\\Register.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport API from \"../../api/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Register() {\n  _s();\n  const [form, setForm] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    classId: \"\"\n  });\n  const [classes, setClasses] = useState(\"\");\n  const [msg, setMsg] = useState(\"\");\n\n  /* ===============================\n     LOAD CLASSES\n  =============================== */\n  useEffect(() => {\n    API.get(\"/classes\").then(res => setClasses(res.data)).catch(() => console.log(\"Failed to load classes\"));\n  }, []);\n\n  /* ===============================\n     SUBMIT STUDENT SIGNUP\n  =============================== */\n  const submit = async e => {\n    e.preventDefault();\n    if (!form.classId) {\n      setMsg(\"‚ùå Please select class\");\n      return;\n    }\n    try {\n      await API.post(\"/auth/register\", {\n        ...form,\n        role: \"student\"\n      });\n      window.location.href = \"/login\";\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setMsg(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || \"Signup failed\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"auth-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uD83C\\uDF93 Student Signup\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: submit,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Full Name\",\n          onChange: e => setForm({\n            ...form,\n            name: e.target.value\n          }),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Email\",\n          onChange: e => setForm({\n            ...form,\n            email: e.target.value\n          }),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          placeholder: \"Password\",\n          onChange: e => setForm({\n            ...form,\n            password: e.target.value\n          }),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: form.classId,\n          onChange: e => setForm({\n            ...form,\n            classId: e.target.value\n          }),\n          required: true,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Select Class\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this), Array.isArray(classes) && classes.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: c._id,\n            children: c.name\n          }, c._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 17\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"primary-btn\",\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), msg && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            marginTop: 10\n          },\n          children: msg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\n_s(Register, \"+RrGr87G4s7dFTnQTQ+NMEVo4dU=\");\n_c = Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["React","useEffect","useState","API","jsxDEV","_jsxDEV","Register","_s","form","setForm","name","email","password","classId","classes","setClasses","msg","setMsg","get","then","res","data","catch","console","log","submit","e","preventDefault","post","role","window","location","href","err","_err$response","_err$response$data","response","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","placeholder","onChange","target","value","required","type","Array","isArray","map","c","_id","style","marginTop","_c","$RefreshReg$"],"sources":["C:/Users/bhanu/Desktop/mern-ai-school-management/client/src/components/Auth/Register.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport API from \"../../api/api\";\n\nexport default function Register() {\n  const [form, setForm] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    classId: \"\"\n  });\n  const [classes, setClasses] = useState(\"\");\n  const [msg, setMsg] = useState(\"\");\n\n  /* ===============================\n     LOAD CLASSES\n  =============================== */\n  useEffect(() => {\n    API.get(\"/classes\")\n      .then(res => setClasses(res.data))\n      .catch(() => console.log(\"Failed to load classes\"));\n  }, []);\n\n  /* ===============================\n     SUBMIT STUDENT SIGNUP\n  =============================== */\n  const submit = async (e) => {\n    e.preventDefault();\n\n    if (!form.classId) {\n      setMsg(\"‚ùå Please select class\");\n      return;\n    }\n\n    try {\n      await API.post(\"/auth/register\", {\n        ...form,\n        role: \"student\"\n      });\n\n      window.location.href = \"/login\";\n    } catch (err) {\n      setMsg(err.response?.data?.message || \"Signup failed\");\n    }\n  };\n\n  return (\n    <div className=\"page-container\">\n      <div className=\"auth-card\">\n        <h3>üéì Student Signup</h3>\n\n        <form onSubmit={submit}>\n          <input\n            placeholder=\"Full Name\"\n            onChange={(e) =>\n              setForm({ ...form, name: e.target.value })\n            }\n            required\n          />\n\n          <input\n            placeholder=\"Email\"\n            onChange={(e) =>\n              setForm({ ...form, email: e.target.value })\n            }\n            required\n          />\n\n          <input\n            type=\"password\"\n            placeholder=\"Password\"\n            onChange={(e) =>\n              setForm({ ...form, password: e.target.value })\n            }\n            required\n          />\n\n          {/* CLASS SELECTION */}\n          <select\n            value={form.classId}\n            onChange={(e) =>\n              setForm({ ...form, classId: e.target.value })\n            }\n            required\n          >\n            <option value=\"\">Select Class</option>\n            {Array.isArray(classes) &&\n              classes.map((c) => (\n                <option key={c._id} value={c._id}>\n                  {c.name}\n                </option>\n              ))}\n          </select>\n\n          <button className=\"primary-btn\">Register</button>\n\n          {msg && <p style={{ marginTop: 10 }}>{msg}</p>}\n        </form>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}